!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={SERVER_IP:"https://trampolinedraak.herokuapp.com",socket:null,server:null,roomCode:"",vip:!1,rank:-1,playerCount:-1,timer:0,drawingTitle:"",drawing:null,guesses:null,finalGuessResults:null,finalScores:null,gameLoading:!1,paused:!1,playerDone:!1,rejoin:!1,language:"en"},o={};o.en={room:"room","game-waiting-1":"Players can now join the game!","game-suggestions-1":"Look at your screen. Fill in the suggestions and submit!","game-drawing-1":"Draw the suggestion shown on your screen!","game-guessing-1":"What do you think this drawing represents?","game-guessing-pick-1":"Hmm, which one is the correct title?","game-guessing-results-1":"Let's see how you did!","game-over-1":"Final scores","game-paused":"Game paused",player:"Player",score:"Score","succesful-rejoin":"Succesfully rejoined the room!","player-already-done":"You already did your job for this game phase, so you can relax.","submit-guess":"Submit guess","guess-placeholder":"your guess ...","vip-message-waiting":"You are VIP. Start the game when you're ready.","start-game":"Start game","submit-drawing":"Submit drawing",submit:"Submit","controller-waiting-1":"Draw yourself a profile pic!","controller-waiting-2":"Waiting for game to start ...","controller-suggestions-1":"Please give me a noun, verb, adjective and adverbial clause (in that order)","controller-suggestions-noun":"noun (e.g. elephant, tables, etc.)","controller-suggestions-verb":"verb with -ing (e.g. swimming)","controller-suggestions-adjective":"adjective (e.g. beautiful)","controller-suggestions-adverb":"adverb (e.g. carefully, to the beach, while sleeping, etc.)","controller-suggestions-2":"Thanks for your suggestions!","controller-drawing-1":"Draw this","controller-drawing-2":"That drawing is ... let's say, something special.","controller-guessing-1":"This is your drawing. I hope you're happy with yourself.","controller-guessing-2":"What do you think this drawing means?","guess-already-exists":"Oh no! Your guess already exists (or you guessed the correct title immediately)! Try something else.","controller-guessing-3":"Wow ... you're so creative!","controller-guessing-pick-1":"Still your drawing. Sit back and relax.","controller-guessing-pick-2":"Which of these do you think is the correct title?","controller-guessing-pick-3":"Really? You think it's that?!","go-game-over":"Go to game over","load-next-drawing":"Load next drawing!","loading-next-screen":"Loading next screen ...","controller-guessing-results-1":"That was it for this round! At the game over screen, you can play another round or stop the game.","controller-guessing-results-2":"Tap the button below whenever you want to start the next drawing","controller-guessing-results-3":"That was it for this round! Please wait for the VIP to start the next round.","controller-over-1":"Are you happy with your score? If not, TOO BAD.","controller-over-2":"You can either start the next round (same room, same players, you keep your score), or end the game.","start-next-round":"Start next round!","destroy-game":"Destroy the game!","continue-game":"Continue game","player-disconnect-1":"Oh no! Player(s) disconnected!","player-disconnect-2":"You can wait until the player(s) rejoin. (To do so, they must rejoin the same room with the exact same name.) You can also continue without them, or stop the game completely."},o.nl={room:"kamercode","game-waiting-1":"Spelers kunnen zich nu aanmelden!","game-suggestions-1":"Kijk op je scherm. Vul de suggesties in en klik op versturen!","game-drawing-1":"Teken de suggestie die nu op je scherm verschijnt!","game-guessing-1":"Wat denk jij dat de onderstaande tekening moet voorstellen?","game-guessing-pick-1":"Hmm, welke van onderstaande titels is de juiste volgens jou?","game-guessing-results-1":"Laten we eens kijken hoe iedereen het gedaan heeft ...","game-over-1":"Eindstand","game-paused":"Spel gepauzeerd",player:"Speler",score:"Score","succesful-rejoin":"Rejoinen met de kamer was succesvol!","player-already-done":"Je hebt je actie al gedaan voor deze spelfase, dus relax en wacht op de rest.","submit-guess":"Verstuur gok","guess-placeholder":"jouw gok ..","vip-message-waiting":"Jij bent de VIP (spelleider). Start het spel wanneer alle spelers gereed zijn.","start-game":"Start het spel","submit-drawing":"Verstuur tekening",submit:"Verstuur","controller-waiting-1":"Teken een leuke profielfoto voor jezelf!","controller-waiting-2":"Aan het wachten todat de VIP het spel begint ...","controller-suggestions-1":"Vul hieronder een zelfstandig naamwoord, werkwoord, bijvoeglijk naamwoord en bijzin in (op die volgorde)","controller-suggestions-noun":"znw (olifant, tafels, etc.)","controller-suggestions-verb":"ww op -de (zwemmende, springende, etc.)","controller-suggestions-adjective":"bnw (mooie, domme, snelle, etc.)","controller-suggestions-adverb":"bijzin (voorzichtig, naar het strand, etc.)","controller-suggestions-2":"Dank voor je suggesties!","controller-drawing-1":"Probeer dit te tekenen","controller-drawing-2":"Die tekening is ... laten we zeggen, artistiek.","controller-guessing-1":"Deze tekening heb jij gemaakt. Ik hoop dat je er blij mee bent.","controller-guessing-2":"Wat denk je dat deze tekening voorstelt?","guess-already-exists":"Oh nee! Jouw gok is al door iemand anders gegokt, óf je hebt de juiste titel in één keer geraden. Probeer iets nieuws.","controller-guessing-3":"Wow ... je bent zoooo creatief!","controller-guessing-pick-1":"Dit is nog steeds jouw tekening. Leun achterover en relax.","controller-guessing-pick-2":"Welke van deze titels is volgens jou de juiste?","controller-guessing-pick-3":"... serieus? Je denkt dat dat de echte titel is?!","go-game-over":"Ga naar game over","load-next-drawing":"Laad de volgende tekening!","loading-next-screen":"Volgende scherm is aan het laden ...","controller-guessing-results-1":"Dit is het eind van de ronde! Op het game over scherm kun jij kiezen om nog een ronde te spelen, of te stoppen.","controller-guessing-results-2":"Klik op de knop hieronder wanneer je de volgende tekening wilt laden.","controller-guessing-results-3":"Dit is het eind van deze ronde! Wacht aub totdat de VIP de volgende ronde begint.","controller-over-1":"Ben je blij met je score? Zo ja, doe een dansje. Zo niet, JAMMER DAN.","controller-over-2":"Je kunt de volgende ronde beginnen (zelfde kamer, zelfde spelers, score blijft behouden), óf het spel geheel eindigen","start-next-round":"Start de volgende ronde!","destroy-game":"Vernietig dit spel!","continue-game":"Ga door met het spel","player-disconnect-1":"Oh nee! Een of meerdere speler(s) zijn hun verbinding verloren!","player-disconnect-2":"Je kunt wachten tot alle spelers weer opnieuw verbonden zijn. (Om dat te doen, moeten ze exact dezelfde kamer met exact dezelfde gebruikersnaam joinen.) Je kunt ook kiezen om zonder hen verder te spelen, of het spel compleet te beëindigen."},r.translate=function(e){var t=this.language;return void 0!=o[t]&&void 0!=o[t][e]||(t="en"),void 0==o[t][e]?" <- string cannot be translated ->":o[t][e]},t.serverInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.playerColors=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(1),i=function(e,t,n){e.on("player-done",function(e){console.log("Player done ("+e.name+")");var r=2*(e.rank/n.playerCount+1/n.playerCount*.25)*Math.PI,i=.5*t.height/1.3,s=.5*t.width,l=.66*Math.min(i,s);(0,o.default)(t,.5*t.width+Math.cos(r)*l,.5*t.height+Math.sin(r)*l*1.3,a.playerColors[e.rank],e)}),e.on("next-state",function(e){n.timer=e.timer,t.state.start("Game"+e.nextState)}),e.on("pre-signal",function(e){n[e[0]]=e[1]}),e.on("force-disconnect",function(t){e.disconnect(!0),window.location.reload(!1)}),e.on("pause-resume-game",function(e){if(e){n.paused=!0;var r={font:"bold 32px Arial",fill:"#FF0000"},o=t.add.text(20,20,n.translate("game-paused").toUpperCase(),r);o.anchor.setTo(0,0),t.pauseObject=o}else n.paused=!1,null!=t.pauseObject&&t.pauseObject.destroy()})};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(5),i=function(e,t,n,r,i){if(e.add.text(t,n,i.name,a.mainStyle.mainText(.8*e.width,r)).anchor.setTo(0,.5),null!=i.profile){var s=i.profile,l="profileImage"+i.name;(0,o.default)(e,{x:t-100,y:n},{width:60,height:78},l,s)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e,t,n,r,a){if(e.cache.checkKey(Phaser.Cache.IMAGE,r))(0,o.default)(e,t,n,r);else{var i=new Phaser.Loader(e);i.image(r,a+""),i.onLoadComplete.addOnce(o.default,void 0,0,e,t,n,r),i.start()}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mainStyle={mainText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return{font:"bold 26px Arial",fill:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#333",wordWrap:!0,wordWrapWidth:e}},subText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return{font:"bold 12px Arial",fill:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#666",wordWrap:!0,wordWrapWidth:e}},timerText:function(){return{font:"bold 26px Arial",fill:"#FF0000"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){e.on("next-state",function(e){n.playerDone=!1,n.timer=e.timer;var r=document.getElementById("canvas-container");r.style.display="none",document.body.appendChild(r),document.getElementById("main-controller").innerHTML="",t.state.start("Controller"+e.nextState)}),e.on("pre-signal",function(e){n[e[0]]=e[1]}),e.on("force-disconnect",function(t){e.disconnect(!0),window.location.reload(!1)}),e.on("pause-resume-game",function(r){if(n.vip)if(r){if(!n.paused){var o=document.getElementById("main-controller"),a=document.createElement("span");o.insertBefore(a,o.firstChild);var i=document.createElement("p");i.innerHTML=n.translate("player-disconnect-1"),a.appendChild(i);var s=document.createElement("p");s.innerHTML=n.translate("player-disconnect-2"),a.appendChild(s);var l=document.createElement("button");l.innerHTML=n.translate("continue-game"),l.addEventListener("click",function(r){e.emit("continue-without-disconnects",{}),t.pauseObject.innerHTML="",t.pauseObject.remove(),n.paused=!1}),a.appendChild(l);var u=document.createElement("button");u.innerHTML=n.translate("destroy-game"),u.addEventListener("click",function(t){e.emit("destroy-game",{})}),a.appendChild(u);var c=document.createElement("hr");a.appendChild(c),t.pauseObject=a,n.paused=!0}}else t.pauseObject.innerHTML="",t.pauseObject.remove(),n.paused=!1})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){t.gameLoading&&(e.emit("finished-loading",{}),t.gameLoading=!1)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){if(t.rejoin){var r=document.createElement("p");if(r.innerHTML=t.translate("succesful-rejoin"),n.appendChild(r),t.rejoin=!1,t.playerDone){var o=document.createElement("p");return o.innerHTML=t.translate("player-already-done"),n.appendChild(o),!0}return!1}return!1};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),l=r(s),u=n(12),c=r(u),d=n(13),f=r(d),p=n(14),m=r(p),h=n(15),g=r(h),v=n(16),y=r(v),b=n(17),w=r(b),k=n(18),j=r(k),_=n(19),I=r(_),P=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"100%","100%",Phaser.AUTO,"canvas-container"));return e.state.add("Menu",l.default),e.state.add("GameLobby",c.default),e.state.add("GamePrep",f.default),e.state.add("GamePlay",m.default),e.state.add("GameOver",g.default),e.state.add("ControllerLobby",y.default),e.state.add("ControllerPrep",w.default),e.state.add("ControllerPlay",j.default),e.state.add("ControllerOver",I.default),e.state.start("Menu"),e}return i(t,e),t}(Phaser.Game),E=new P;Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(2),c=r(u),d=n(6),f=(r(d),function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){this.game.load.crossOrigin="Anonymous",this.game.stage.backgroundColor="#EEEEEE",this.game.stage.disableVisibilityChange=!0}},{key:"create",value:function(){console.log("Menu state");var e=this.game;document.getElementById("createRoomBtn").onclick=function(){this.disabled=!0,l.serverInfo.socket=io(l.serverInfo.SERVER_IP);var t=l.serverInfo.socket;t.on("connect",function(){document.getElementById("err-message").innerHTML="Creating room ...",t.emit("new-room",{})}),t.on("room-created",function(t){l.serverInfo.roomCode=t.roomCode,document.getElementById("main").style.display="none",e.state.start("GameLobby")})},document.getElementById("joinRoomBtn").onclick=function(){var t=this;t.disabled=!0;var n=document.getElementsByClassName("joinInput"),r=n[0].value.toUpperCase(),o=n[1].value.toUpperCase();console.log(r+" || "+o),l.serverInfo.socket=io(l.serverInfo.SERVER_IP);var a=l.serverInfo.socket;a.on("connect",function(){document.getElementById("err-message").innerHTML="Joining ...",a.emit("join-room",{roomCode:r,userName:o})}),a.on("join-response",function(n){n.success?(document.getElementById("main").style.display="none",l.serverInfo.vip=n.vip,l.serverInfo.roomCode=r,l.serverInfo.rank=n.rank,e.state.start("ControllerLobby")):(document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,a.disconnect(!0))})},document.getElementById("watchRoomBtn").onclick=function(){var t=this;if(!t.disabled){t.disabled=!0;var n=document.getElementsByClassName("joinInput")[2].value.toUpperCase();l.serverInfo.socket=io(l.serverInfo.SERVER_IP);var r=l.serverInfo.socket;r.on("connect",function(){document.getElementById("err-message").innerHTML="Loading room ...",r.emit("watch-room",{roomCode:n})}),r.on("watch-response",function(n){if(n.success){document.getElementById("main").style.display="none",(0,c.default)(r,e,l.serverInfo),l.serverInfo.timer=n.timer;var o=n.preSignal;null!=o&&(l.serverInfo[o[0]]=o[1]),l.serverInfo.paused=n.paused,l.serverInfo.gameLoading=!0,e.state.start("Game"+n.gameState)}else document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,r.disconnect(!0)})}}}},{key:"update",value:function(){}}]),t}(Phaser.State));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=e.add.sprite(t.x,t.y,r);o.width=n.width,o.height=n.height,o.anchor.setTo(.5,.5)};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(4),c=r(u),d=n(1),f=n(3),p=(r(f),n(2)),m=r(p),h=n(7),g=r(h),v=n(5),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){var e=this.game;e.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){e.scale.refresh()}),e.scale.refresh()}},{key:"create",value:function(){var e=this.game;e.add.text(.5*e.width,20,l.serverInfo.translate("room").toUpperCase()+": "+l.serverInfo.roomCode,v.mainStyle.mainText(.8*e.width)).anchor.setTo(.5,0),e.add.text(.5*e.width,60,l.serverInfo.translate("game-waiting-1"),v.mainStyle.subText(.8*e.width)).anchor.setTo(.5,0);var t=l.serverInfo.socket;t.on("new-player",function(t){var n=.5*e.width,r=120+60*t.rank;e.add.text(n,r,t.name,v.mainStyle.mainText(e.width,d.playerColors[t.rank])).anchor.setTo(0,.5)}),t.on("player-updated-profile",function(t){if(null!=t.profile){var n=t.profile,r="profileImage"+t.name,o=.5*e.width,a=120+60*t.rank;(0,c.default)(e,{x:o-100,y:a},{width:60,height:78},r,n)}}),(0,m.default)(t,e,l.serverInfo),(0,g.default)(t,l.serverInfo),console.log("Game waiting state")}},{key:"shutdown",value:function(){var e=l.serverInfo.socket;e.off("new-player"),e.off("player-updated-profile")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(4),c=r(u),d=n(1),f=n(3),p=(r(f),n(2)),m=r(p),h=n(7),g=r(h),v=n(5),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){var e=this.game;e.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){e.scale.refresh()}),e.scale.refresh()}},{key:"create",value:function(){var e=this.game;e.add.text(.5*e.width,20,l.serverInfo.translate("room").toUpperCase()+": "+l.serverInfo.roomCode,v.mainStyle.mainText(.8*e.width)).anchor.setTo(.5,0),e.add.text(.5*e.width,60,l.serverInfo.translate("game-waiting-1"),v.mainStyle.subText(.8*e.width)).anchor.setTo(.5,0);var t=l.serverInfo.socket;t.on("new-player",function(t){var n=.5*e.width,r=120+60*t.rank;e.add.text(n,r,t.name,v.mainStyle.mainText(e.width,d.playerColors[t.rank])).anchor.setTo(0,.5)}),t.on("player-updated-profile",function(t){if(null!=t.profile){var n=t.profile,r="profileImage"+t.name,o=.5*e.width,a=120+60*t.rank;(0,c.default)(e,{x:o-100,y:a},{width:60,height:78},r,n)}}),(0,m.default)(t,e,l.serverInfo),(0,g.default)(t,l.serverInfo),console.log("Game waiting state")}},{key:"shutdown",value:function(){var e=l.serverInfo.socket;e.off("new-player"),e.off("player-updated-profile")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(4),c=r(u),d=n(1),f=n(3),p=(r(f),n(2)),m=r(p),h=n(7),g=r(h),v=n(5),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){var e=this.game;e.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){e.scale.refresh()}),e.scale.refresh()}},{key:"create",value:function(){var e=this.game;e.add.text(.5*e.width,20,l.serverInfo.translate("room").toUpperCase()+": "+l.serverInfo.roomCode,v.mainStyle.mainText(.8*e.width)).anchor.setTo(.5,0),e.add.text(.5*e.width,60,l.serverInfo.translate("game-waiting-1"),v.mainStyle.subText(.8*e.width)).anchor.setTo(.5,0);var t=l.serverInfo.socket;t.on("new-player",function(t){var n=.5*e.width,r=120+60*t.rank;e.add.text(n,r,t.name,v.mainStyle.mainText(e.width,d.playerColors[t.rank])).anchor.setTo(0,.5)}),t.on("player-updated-profile",function(t){if(null!=t.profile){var n=t.profile,r="profileImage"+t.name,o=.5*e.width,a=120+60*t.rank;(0,c.default)(e,{x:o-100,y:a},{width:60,height:78},r,n)}}),(0,m.default)(t,e,l.serverInfo),(0,g.default)(t,l.serverInfo),console.log("Game waiting state")}},{key:"shutdown",value:function(){var e=l.serverInfo.socket;e.off("new-player"),e.off("player-updated-profile")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(4),c=r(u),d=n(1),f=n(3),p=(r(f),n(2)),m=r(p),h=n(7),g=r(h),v=n(5),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){var e=this.game;e.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){e.scale.refresh()}),e.scale.refresh()}},{key:"create",value:function(){var e=this.game;e.add.text(.5*e.width,20,l.serverInfo.translate("room").toUpperCase()+": "+l.serverInfo.roomCode,v.mainStyle.mainText(.8*e.width)).anchor.setTo(.5,0),e.add.text(.5*e.width,60,l.serverInfo.translate("game-waiting-1"),v.mainStyle.subText(.8*e.width)).anchor.setTo(.5,0);var t=l.serverInfo.socket;t.on("new-player",function(t){var n=.5*e.width,r=120+60*t.rank;e.add.text(n,r,t.name,v.mainStyle.mainText(e.width,d.playerColors[t.rank])).anchor.setTo(0,.5)}),t.on("player-updated-profile",function(t){if(null!=t.profile){var n=t.profile,r="profileImage"+t.name,o=.5*e.width,a=120+60*t.rank;(0,c.default)(e,{x:o-100,y:a},{width:60,height:78},r,n)}}),(0,m.default)(t,e,l.serverInfo),(0,g.default)(t,l.serverInfo),console.log("Game waiting state")}},{key:"shutdown",value:function(){var e=l.serverInfo.socket;e.off("new-player"),e.off("player-updated-profile")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),c=n(6),d=r(c),f=n(8),p=(r(f),function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=l.serverInfo.socket,n=document.getElementById("main-controller");if(l.serverInfo.vip){var r=document.createElement("p");r.innerHTML=l.serverInfo.translate("vip-message-waiting"),n.appendChild(r);var o=document.createElement("button");o.innerHTML=l.serverInfo.translate("start-game"),o.addEventListener("click",function(e){o.disabled||(o.disabled=!0,t.emit("start-game",{}))}),n.appendChild(o)}var a=document.createElement("p");a.innerHTML=l.serverInfo.translate("controller-waiting-1"),n.appendChild(a);var i=document.getElementById("canvas-container");n.appendChild(i);var s=document.getElementById("main-controller").clientWidth,c=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-i.getBoundingClientRect().top-40,f=Math.min(s,c/1.3);e.scale.setGameSize(f,1.3*f),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=u.playerColors[l.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var p=this.bmd,m=document.createElement("button");m.innerHTML=l.serverInfo.translate("submit-drawing"),m.addEventListener("click",function(e){var n=p.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),m.remove(),i.style.display="none",l.serverInfo.vip?a.innerHTML="":a.innerHTML=l.serverInfo.translate("controller-waiting-2")}),n.appendChild(m),(0,d.default)(t,e,l.serverInfo),console.log("Controller Waiting state")}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State));t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),c=n(6),d=r(c),f=n(8),p=r(f),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=l.serverInfo.socket,n=document.getElementById("main-controller");if(!(0,p.default)(t,l.serverInfo,n)){if(l.serverInfo.vip){var r=document.createElement("p");r.innerHTML=l.serverInfo.translate("vip-message-waiting"),n.appendChild(r);var o=document.createElement("button");o.innerHTML=l.serverInfo.translate("start-game"),o.addEventListener("click",function(e){o.disabled||(o.disabled=!0,t.emit("start-game",{}))}),n.appendChild(o)}var a=document.createElement("p");a.innerHTML=l.serverInfo.translate("controller-waiting-1"),n.appendChild(a);var i=document.getElementById("canvas-container");n.appendChild(i);var s=document.getElementById("main-controller").clientWidth,c=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-i.getBoundingClientRect().top-40,f=Math.min(s,c/1.3);e.scale.setGameSize(f,1.3*f),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=u.playerColors[l.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var m=this.bmd,h=document.createElement("button");h.innerHTML=l.serverInfo.translate("submit-drawing"),h.addEventListener("click",function(e){var n=m.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),h.remove(),i.style.display="none",l.serverInfo.vip?a.innerHTML="":a.innerHTML=l.serverInfo.translate("controller-waiting-2")}),n.appendChild(h),(0,d.default)(t,e,l.serverInfo),console.log("Controller Waiting state")}}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),c=n(6),d=r(c),f=n(8),p=r(f),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=l.serverInfo.socket,n=document.getElementById("main-controller");if(!(0,p.default)(t,l.serverInfo,n)){if(l.serverInfo.vip){var r=document.createElement("p");r.innerHTML=l.serverInfo.translate("vip-message-waiting"),n.appendChild(r);var o=document.createElement("button");o.innerHTML=l.serverInfo.translate("start-game"),o.addEventListener("click",function(e){o.disabled||(o.disabled=!0,t.emit("start-game",{}))}),n.appendChild(o)}var a=document.createElement("p");a.innerHTML=l.serverInfo.translate("controller-waiting-1"),n.appendChild(a);var i=document.getElementById("canvas-container");n.appendChild(i);var s=document.getElementById("main-controller").clientWidth,c=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-i.getBoundingClientRect().top-40,f=Math.min(s,c/1.3);e.scale.setGameSize(f,1.3*f),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=u.playerColors[l.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var m=this.bmd,h=document.createElement("button");h.innerHTML=l.serverInfo.translate("submit-drawing"),h.addEventListener("click",function(e){var n=m.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),h.remove(),i.style.display="none",l.serverInfo.vip?a.innerHTML="":a.innerHTML=l.serverInfo.translate("controller-waiting-2")}),n.appendChild(h),(0,d.default)(t,e,l.serverInfo),console.log("Controller Waiting state")}}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),c=n(6),d=r(c),f=n(8),p=r(f),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=l.serverInfo.socket,n=document.getElementById("main-controller");if(!(0,p.default)(t,l.serverInfo,n)){if(l.serverInfo.vip){var r=document.createElement("p");r.innerHTML=l.serverInfo.translate("vip-message-waiting"),n.appendChild(r);var o=document.createElement("button");o.innerHTML=l.serverInfo.translate("start-game"),o.addEventListener("click",function(e){o.disabled||(o.disabled=!0,t.emit("start-game",{}))}),n.appendChild(o)}var a=document.createElement("p");a.innerHTML=l.serverInfo.translate("controller-waiting-1"),n.appendChild(a);var i=document.getElementById("canvas-container");n.appendChild(i);var s=document.getElementById("main-controller").clientWidth,c=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-i.getBoundingClientRect().top-40,f=Math.min(s,c/1.3);e.scale.setGameSize(f,1.3*f),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=u.playerColors[l.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var m=this.bmd,h=document.createElement("button");h.innerHTML=l.serverInfo.translate("submit-drawing"),h.addEventListener("click",function(e){var n=m.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),h.remove(),i.style.display="none",l.serverInfo.vip?a.innerHTML="":a.innerHTML=l.serverInfo.translate("controller-waiting-2")}),n.appendChild(h),(0,d.default)(t,e,l.serverInfo),console.log("Controller Waiting state")}}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State);t.default=m}]);